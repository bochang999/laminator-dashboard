# ラミオペ・ダッシュボード - 要件定義書

## プロジェクト概要

### アプリケーション名
**ラミオペ・ダッシュボード（メイン機能）**

### 目的
ラミネート加工オペレーターの日々の作業計画、時間予測、フィルム消費の見通しを立てるための専用計算ツール群を提供する。

### 対象ユーザー
- ラミネート加工機のオペレーター
- 作業計画の立案と進捗管理を行う現場作業者

## 機能要件

### 主要機能

#### 1. 時間計算機
- **目的**: その日の全ジョブの作業時間を計算し、現実的な終了予定時刻をリアルタイムで追跡
- **入力方式**: 
  - 直接枚数入力
  - 部数/面数/予備から自動計算
- **計算対象**: 生産時間、フィルム交換時間、休憩時間、片付け時間
- **表示**: 終了予定時刻、デッドライン警告（15:30判断時刻、16:45定時）

#### 2. フィルム消費シミュレーター
- **目的**: 用意したフィルムで次の仕事が実行可能かを事前判定
- **機能**: フィルム残量管理、必要量計算、不足分表示
- **操作**: フィルム追加、リセット、継続判定

#### 3. サマリー報告機能
- **目的**: その日の全作業の合計値を表示し、業務報告を支援
- **表示内容**: 合計生産枚数、合計使用メーター、作業履歴

## 非機能要件

### プラットフォーム要件
- **形態**: PWA（Progressive Web App）
- **対象デバイス**: スマートフォン（主にAndroid）
- **操作性**: 片手操作対応、作業中でも使いやすいUI

### データ要件
- **保存方式**: localStorage（ローカルストレージ）
- **永続性**: ブラウザを閉じても保持
- **リセット**: 日付変更時に自動リセット

### パフォーマンス要件
- **応答性**: 計算結果の即座表示
- **軽量性**: オフライン動作可能
- **信頼性**: 計算精度の保証

## 業務制約

### 時間設定
- 始業時刻: 08:30（設定変更可能）
- 終業時刻: 17:00（設定変更可能）
- 昼休み: 60分
- 片付け時間: 15分

### 作業時間
- 同種フィルム交換: 10分
- 異種フィルム交換: 15分

## 成功指標
- オペレーターの作業計画精度向上
- 終了時刻予測の的中率向上
- フィルム無駄の削減
- 日次報告作業の効率化

---

## Ver.1.1 機能更新 (2025-08-12)

### 追加・変更された機能要件

#### 1. ユーザー設定機能
- **目的**: 作業環境のカスタマイズ対応
- **設定項目**: 
  - 始業時刻/定時終業時刻/残業終業時刻
  - 昼休み時間/片付け時間/フィルム交換時間
- **操作**: 設定画面からの編集・保存・デフォルト復元

#### 2. 改善された時間表示システム
- **3カラム構成**: 
  - 開始時刻（手動設定可能）
  - 最終終了予定（メイン表示）
  - 本日の目標（定時/残業切替）
- **操作性**: クリック/タップによる時刻設定・モード切替

#### 3. 強化されたジョブ管理
- **表示順序**: 新しいジョブを上部表示（時系列逆順）
- **完了管理**: 確定終了時刻記録・実時間考慮の全体再計算
- **操作安全性**: 削除ボタン左端配置による誤操作防止

#### 4. 独立フィルム残量管理
- **管理方式**: 各フィルムセッションで独立した残量追跡
- **精度向上**: セッション固有の使用量・残量計算
- **表示改善**: セッション別の詳細フィルム情報表示

### 削除された機能

#### 1. フィルム残量電卓機能
- **削除理由**: ユーザー要求により不要機能として判定
- **影響**: ユーザビリティ向上（機能のシンプル化）

### 更新された非機能要件

#### データ構造の拡張
- **フィルムセッション**: `filmCapacity`, `filmRemaining`, `filmUsed` 属性追加
- **設定データ**: `timeSettings` による永続的カスタマイズ設定
- **後方互換性**: 既存データとの完全互換性維持

#### UI/UXの改善
- **操作効率**: 最新情報の即座アクセス（ソート変更）
- **操作安全性**: 重要操作の配置最適化
- **カスタマイズ性**: ユーザー環境に応じた設定調整
- **情報密度**: 3カラム表示による状況把握向上